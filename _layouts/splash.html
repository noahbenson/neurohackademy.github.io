<!DOCTYPE html> <html>
<head>
  <title>
    {% if page.title %}{{page.title}} â€“ {% endif %}{{site.title}}
    {% if site.suffix %}, {{site.suffix}}{% endif %}
    </title>
  {% include meta.html %}
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js">
    </script>
    <![endif]-->
  <link rel="stylesheet"
        type="text/css"
        href="{{site.baseurl}}/style.css"/>
  <link rel="alternate"
        type="application/rss+xml"
        title="{{site.title}}"
        href="{{site.baseurl}}/feed.xml" />
  {% include scripts.html %}
  <!-- Originally created with Jekyll Now -
       http://github.com/barryclark/jekyll-now;
       heavily modified by hand since. -->
  </head>

<body>
  <div class="splash-masthead" id="masthead">
    <div class="splash-banner-container">
      <div class="splash-banner">
      <p class="splash-text" style="margin-top: auto">
        The Neurohackademy is a two-week summer course in neuroimaging and
        data science for researchers.
        </p>
      <p class="splash-text">&#8964;</p></div>
      </div>
    <header class="clearfix" id="pageHeader">
      {% include navbar.html %}
      </header>
    </div>
  <main>
    <div class="container-wrapper">
      <div id="main" role="main" class="container">
        <a id="top" class="topanchor"></a>
        {{content}}
        </div>
      </div>
    </main>
  {% include footer.html %}
  {% include analytics.html %}
  </body>

<script>
  const minHeight = 128;
  let maxHeight = 0;
  let vanishHeight = 0;
  let dynamicDiv = null;
  let splashTxt = null;
  let scrollFn = () => {
    // Get the current scroll position.
    const currentScrollY = window.scrollY || window.pageYOffset;
    const currentScrollX = window.scrollX || window.pageXOffset;
    // get the height of the div.
    const curHeight = dynamicDiv.offsetHeight;
    if (currentScrollY > 0) {
      if (curHeight > minHeight) {
        const h = Math.max(minHeight, curHeight - currentScrollY);
        dynamicDiv.style.height = h + 'px';
        window.scrollTo(currentScrollX, 0);
        const opac = (h - vanishHeight) / (maxHeight - vanishHeight);
        splashTxt.forEach((el) => {
          if (h <= vanishHeight) {
            el.remove();
          } else {
            el.style.opacity = opac;
          }
        });
      }
    } else if (curHeight < maxHeight && currentScrollY == 0) {
      dynamicDiv.style.height = Math.min(maxHeight, curHeight + 1);
    }
  };
  let initFn = () => {
    dynamicDiv = document.getElementById('masthead');
    maxHeight = dynamicDiv.offsetHeight;
    vanishHeight = minHeight + (maxHeight - minHeight) * 0.4;
    splashTxt = document.querySelectorAll('.splash-text');
    window.addEventListener('scroll', scrollFn);
    scrollFn();
  };
  window.onload = initFn;
  </script>

</html>
